# Snapshot report for `test/snapshot-workflow/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://avajs.dev).

## First run generates a .snap and a .md

> snapshot report

    `# Snapshot report for `test.js`␊
    ␊
    The actual snapshot is saved in `test.js.snap`.␊
    ␊
    Generated by [AVA](https://avajs.dev).␊
    ␊
    ## foo␊
    ␊
    > Snapshot 1␊
    ␊
        {␊
          foo: 'one',␊
        }␊
    ␊
    ## baz␊
    ␊
    > a message␊
    ␊
        {␊
          baz: 'one',␊
        }␊
    ␊
    > Snapshot 2␊
    ␊
        {␊
          baz: 'two',␊
        }␊
    `

## Adding more snapshots to a test adds them to the .snap and .md

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
    + ␊
    + > Snapshot 2␊
    + ␊
    +     {␊
    +       foo: 'two',␊
    +     }␊
      `

## Adding a test with snapshots adds them to the .snap and .md

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
    + ␊
    + ## bar␊
    + ␊
    + > Snapshot 1␊
    + ␊
    +     {␊
    +       bar: 'one',␊
    +     }␊
      `

## Changing a test's title adds a new block, puts the old block at the end

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
    - ## a title␊
    - ␊
    - > Snapshot 1␊
    - ␊
    -     {␊
    -       foo: 'one',␊
    + ## a new title␊
    + ␊
    + > Snapshot 1␊
    + ␊
    +     {␊
    +       foo: 'one',␊
    +     }␊
    + ␊
    + ## a title␊
    + ␊
    + > Snapshot 1␊
    + ␊
    +     {␊
    +       foo: 'one',␊
          }␊
      `

## Adding skipped snapshots followed by unskipped snapshots records blanks

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
    + ␊
    + > Snapshot 2␊
    + ␊
    +     <No Data>␊
    + ␊
    + > Snapshot 3␊
    + ␊
    +     {␊
    +       foo: 'three',␊
    +     }␊
      `

## Filling in blanks doesn't require --update-snapshots

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
      ␊
      > Snapshot 2␊
      ␊
    -     <No Data>␊
    - ␊
    - > Snapshot 3␊
    +     {␊
    +       foo: 'two',␊
    +     }␊
      ␊
    + > Snapshot 3␊
    + ␊
          {␊
            foo: 'three',␊
          }␊
      `

## With --update-snapshots, changing a snapshot's label updates the .snap and .md

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
    - > Snapshot 1␊
    + > a new message␊
      ␊
          {␊
            foo: 'one',␊
          }␊
      `

## With invalid .snap file and --update-snapshots, skipped snaps are omitted

> snapshot report

    `# Snapshot report for `test.js`␊
    ␊
    The actual snapshot is saved in `test.js.snap`.␊
    ␊
    Generated by [AVA](https://avajs.dev).␊
    ␊
    ## foo␊
    ␊
    > Snapshot 1␊
    ␊
        <No Data>␊
    ␊
    > Snapshot 2␊
    ␊
        {␊
          foo: 'two',␊
        }␊
    ␊
    ## bar␊
    ␊
    > Snapshot 1␊
    ␊
        {␊
          bar: 'one',␊
        }␊
    ␊
    > Snapshot 2␊
    ␊
        <No Data>␊
    `

> passed tests

    [
      {
        file: 'test.js',
        title: 'bar',
      },
      {
        file: 'test.js',
        title: 'foo',
      },
    ]

> failed tests

    []

> skipped tests

    [
      {
        file: 'test.js',
        title: 'baz',
      },
    ]

## With --update-snapshots, removing all snapshots from a test removes the block

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
    - ## foo␊
    - ␊
    - > Snapshot 1␊
    - ␊
    -     {␊
    -       foo: 'one',␊
    -     }␊
    - ␊
    - ## bar␊
    - ␊
    - > Snapshot 1␊
    - ␊
    -     {␊
    + ## bar␊
    + ␊
    + > Snapshot 1␊
    + ␊
    +     {␊
            bar: 'one',␊
          }␊
      `

## With --update-snapshots, removing a snapshot assertion removes its data

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
    - ␊
    - > Snapshot 2␊
    - ␊
    -     {␊
    -       foo: 'two',␊
    -     }␊
      `

## With --update-snapshots, removing a test removes its block

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
    - ␊
    - ## bar␊
    - ␊
    - > Snapshot 1␊
    - ␊
    -     {␊
    -       bar: 'one',␊
    -     }␊
      `

## With --update-snapshots, reordering tests reorders the .snap and .md

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
    - ## first test␊
    + ## second test␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
    -       foo: 'bar',␊
    +       bar: 'baz',␊
          }␊
      ␊
    - ## second test␊
    + ## first test␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
    -       bar: 'baz',␊
    +       foo: 'bar',␊
          }␊
      `

## With --update-snapshots and t.snapshot.skip(), other snapshots are updated

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
      ␊
      > Snapshot 2␊
      ␊
          {␊
    -       foo: 'two',␊
    +       two: 'something new',␊
          }␊
      `

## With --update snapshots and test.skip(), other tests' snapshots are updated

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            foo: 'one',␊
          }␊
      ␊
      ## bar␊
      ␊
      > Snapshot 1␊
      ␊
    -     {␊
    -       bar: 'one',␊
    -     }␊
    +     [␊
    +       'something new',␊
    +     ]␊
      `

## With --update-snapshots and --match, only selected tests are updated

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
    -       foo: 'one',␊
    +       foo: 'new',␊
          }␊
      ␊
      ## bar␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            bar: 'one',␊
          }␊
      `

## With --update-snapshots and line number selection, only selected tests are updated

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## foo␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
    -       foo: 'one',␊
    +       foo: 'new',␊
          }␊
      ␊
      ## bar␊
      ␊
      > Snapshot 1␊
      ␊
          {␊
            bar: 'one',␊
          }␊
      `

## t.snapshot.skip() in discarded t.try() doesn't copy over old value

> snapshot report diff

    `  # Snapshot report for `test.js`␊
      ␊
      The actual snapshot is saved in `test.js.snap`.␊
      ␊
      Generated by [AVA](https://avajs.dev).␊
      ␊
      ## discard a skipped snapshot␊
      ␊
      > Snapshot 1␊
      ␊
          1␊
      ␊
      > Snapshot 2␊
      ␊
    -     'before (second try)'␊
    +     'after (second try)'␊
      `
